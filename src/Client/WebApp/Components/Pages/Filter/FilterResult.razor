@page "/filters-result/{ItemTypeId:int?}"
@using WebComponent.Components.Filter
@inject ICatalogService CatalogService
@inject NavigationManager Nav
@attribute [StreamRendering]

<div class="container">
    <div class="search-bar-container">
        <div class="search-bar">
            <input type="text" placeholder="Search...">
            <button type="submit">
                <img src="assets/icons/search.png" alt="Search">
            </button>
        </div>
    </div>

    <div class="filter-sort-container">
        <button class="filter-button">
   <!-- Add navigation-->
                <span>Filter</span>

                <img src="assets/icons/filter.png" alt="Filter">

            </button>
      
        <span class="divider"></span>
        <button class="sort-button">
            <span>Sort by</span>
            <img src="assets/icons/sorting.png" alt="Sort">
        </button>
    </div>
</div>

<div>
    <!-- Conditional Rendering for Product List -->
    @if (ItemTypeId > 0)
    {
        <div class="product-grid">
            <ProductListByType ItemTypeId="ItemTypeId" />
        </div>

      
    }
    else
    {
       
    }
    <button class="scroll-top-btn" onclick="scrollToTop()">
        <img src="assets/icons/arrowup.png" alt="Scroll to top">
    </button>
    
</div>

@code {
    [Parameter]
    public int ItemTypeId { get; set; }
}

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const scrollTopButton = document.querySelector('.scroll-top-btn');

        if (!scrollTopButton) return;

        // Attach the scroll listener
        window.addEventListener('scroll', function () {
            if (document.documentElement.scrollTop > 100 || document.body.scrollTop > 100) {
                scrollTopButton.classList.add('show');
            } else {
                scrollTopButton.classList.remove('show');
            }
        });

        // Smooth Scroll to Top
        scrollTopButton.addEventListener('click', function () {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    });
</script>
